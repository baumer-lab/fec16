---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->


```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```


# fec16 <img src="data-raw/Sticker/hex_fec16.png" align="right" height=140/>

<!-- badges: start -->
[![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-maturing-blue.svg)](https://www.tidyverse.org/lifecycle/#maturing)
[![CRAN status](https://r-pkg.org/badges/version/fec16)](https://CRAN.R-project.org/package=fec16)
[![Travis-CI Build Status](https://travis-ci.org/baumer-lab/fec16.svg?branch=master)](https://travis-ci.org/baumer-lab/fec16)
<!-- badges: end -->


**fec16** contains relational data from the Federal Election Commission website pertaining to candidates and committees for the United States 2015-2016 election cycle. Additionally, result of the 2016 general election and contribution data both from committees and individuals are included. 


## Installation

`fec16` is hosted on GitHub and call be installed by running the following:

```{r, eval=FALSE}
devtools::install_github("baumer-lab/fec16")
```

```{r}
library(fec16)
```


## Data

- `candidates`: all candidates registered with the FEC during the 2015-2016 election cycle
- `committees`: all committees registered with the FEC during the 2015-2016 election cycle
- `results_house`: the house results of the 2016 general presidential election
- `results_senate`: the senate results of the 2016 general presidential election
- `results_president`: the final results of the 2016 general presidential election
- `individuals`: a sample of 100000 individual contributions to candidates/committees during the 2016 general presidential election
- `contributions`:  candidates and their contibutions from committees during the 2016 general election
- `campaigns`: the house/senate current campaigns
- `expenditures`: the operating expenditures for the 
- `transactions`: a sample of 100000 transactions between committees
- `pac`: Political Action Committee (PAC) and party summary financial information

## Examples

### Data Wrangling 

`fec16` can be used to summarize data in order see how many candidates are running for elections (in all offices) for the two major parties:
```{r example, message = FALSE}
library(fec16)
library(dplyr)

# candidates %>%
#   filter(cand_pty_affiliation %in% c("REP", "DEM")) %>%
#   group_by(cand_pty_affiliation) %>%
#   summarise(size = n())
```

#### Joining Data 

We can join any of the datasets using `cand_id`. Each dataset with the exception of the `individuals` dataset contains a possible joining key: `cand_id`.

Here is an example of calculating how many candidates are in each of the two major parties: Democratic (DEM) and Republican (REP), based on their committee type:
```{r message=FALSE, warning=FALSE}
# cand_cmte <- candidates %>%
#   full_join(committees, by = "cand_id") %>%
#   filter(cand_pty_affiliation %in% c("REP", "DEM")) %>%
#   group_by(cand_pty_affiliation, cmte_tp) %>%
#   summarise(n = n()) %>%
#   tidyr::drop_na(cmte_tp)
# head(cand_cmte)
```

### Data Visualization 

And extending that to create a visualization to see the results easily.
```{r cand-plot, message=FALSE, warning=FALSE}
library(ggplot2)
# ggplot(cand_cmte, aes(x = cmte_tp, y = n, fill = cand_pty_affiliation)) +
#   geom_col(position = "dodge") +
#   labs(
#     title = "Bar Chart of Total Committees by Type and Party",
#     x = "Committee Type", y = "Count", fill = "Candidate Party Affiliation"
#   )
```


## Contributors
 - [Marium Tapal](https://github.com/mariumtapal)
 - [Irene Ryan](https://github.com/ireneryan)
 - [Rana Gahwagy](https://github.com/ranawg)
 - [Benjamin S. Baumer](https://github.com/beanumber)
