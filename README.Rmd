---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->


```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```


# fec16 <img src="data-raw/Sticker/hex_fec16.png" align="right" height=140/>

<!-- badges: start -->
[![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-maturing-blue.svg)](https://www.tidyverse.org/lifecycle/#maturing)
[![CRAN status](https://r-pkg.org/badges/version/fec16)](https://CRAN.R-project.org/package=fec16)
[![Travis-CI Build Status](https://travis-ci.org/baumer-lab/fec16.svg?branch=master)](https://travis-ci.org/baumer-lab/fec16)
<!-- badges: end -->


**fec16** contains sample data from the Federal Election Commission (FEC) website pertaining to candidates, committees, results, contributions from committees and individuals, and other financial data for the United States 2015-2016 election cycle. Additionally, for the datasets that are included as samples, the package includes functions that import the full versions.


## Installation

`fec16` is hosted on GitHub and call be installed by running the following:

```{r, eval=FALSE}
devtools::install_github("baumer-lab/fec16")
```

```{r message=FALSE, warning=FALSE}
library(fec16)
```


## Datasets Included

### Full Datasets

- `campaigns`: the house/senate current campaigns
- `results_house`: the house results of the 2016 general presidential election
- `results_senate`: the senate results of the 2016 general presidential election
- `results_president`: the final results of the 2016 general presidential election

### Sample Datasets (with 1000 rows each)

- `candidates`: candidates registered with the FEC during the 2015-2016 election cycle
- `committees`: committees registered with the FEC during the 2015-2016 election cycle
- `individuals`: individual contributions to candidates/committees during the 2016 general presidential election
- `contributions`: candidates and their contibutions from committees during the 2016 general election
- `expenditures`: the operating expenditures 
- `transactions`: transactions between committees
- `pac`: Political Action Committee (PAC) and party summary financial information

## Functions Included

The following functions retrieve the entire datasets for the sampled ones listed above. Some of these datasets are > 3GB. They all have an argument `n_max` which defaults to the entire dataset but the user can specify the max length of the dataset to be loaded via this argument.

- `all_candidates()`
- `all_committees()`
- `all_individuals()`
- `all_contributions()`
- `all_expenditures()`
- `all_transactions()`
- `all_pac()`

## Examples

### Data Wrangling 

`fec16` can be used to summarize data in order see how many candidates are running for elections (in all offices) for the two major parties:

```{r, message=FALSE}
library(dplyr)

data <- all_candidates() %>%
  filter(cand_pty_affiliation %in% c("REP", "DEM")) %>%
  group_by(cand_pty_affiliation) %>%
  summarize(size = n())

data
```

### Data Visualization 

We can visualize the above data:

```{r, message=FALSE, warning=FALSE}
library(ggplot2)

ggplot(data, aes(x = cand_pty_affiliation, y = size, fill = cand_pty_affiliation)) +
  geom_col(position = "dodge") +
  labs(
    title = "Candidate Size of the Two Major Parties",
    x = "Party", y = "Count", fill = "Candidate Party Affiliation")
```

## Contributors
 - [Marium Tapal](https://github.com/mariumtapal)
 - [Irene Ryan](https://github.com/ireneryan)
 - [Rana Gahwagy](https://github.com/ranawg)
 - [Benjamin S. Baumer](https://github.com/beanumber)
